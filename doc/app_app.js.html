<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app/app.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app/app.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * This is the Angular app.
 *
 * @module EarSketchApp
 */
URL_LOADAUDIO = 'http://earsketch.gatech.edu/EarSketchWSDevelop/services/audio/getaudiosample';
URL_DOMAIN = 'http://earsketch.gatech.edu/EarSketchWSDevelop';
//URL_LOADAUDIO = 'http://earsketch.gatech.edu/EarSketchWS/services/audio/getaudiosample';
//URL_DOMAIN = 'http://earsketch.gatech.edu/EarSketchWS';

REPORT_LOG = []; // tracks log messages for sending error reports

var app = angular.module('EarSketchApp',['ui.router','ui.bootstrap', 'ui.utils', 'ngAnimate', 'ngFileUpload']);

// Error handler override.
app.factory('$exceptionHandler', function() {
  return function(exception, cause) {
      console.log(exception);
      esconsole(exception.toString(), ['ERROR','ANGULAR']);
  };
});

// TODO: should this be within userconsole.js or not?
app.service('userNotification', function ($window) {
    var showCallback = null;
    var hideCallback = null;

    this.showCallback = function (cb) {
        showCallback = cb;
    };

    this.hideCallback = function (cb) {
        hideCallback = cb;
    };

    this.show = function () {
        showCallback.apply(this, arguments);
    };

    this.hide = function () {
        hideCallback();
    };

    // Copying to global for non-angular modules
    $window.userNotification = this;
});

/**
 * Angular directive / service for showing user notifications. Inject userNotification to Angular submodules, and put &lt;notification-bar> in HTML. Currently only 1 instance of &lt;notification-bar> can be used. The notification service is copied to the global for non-angular usage.
 * @name userNotification.show
 * @function
 * @module userNotification
 * @param text {string} Notification message to show
 * @param [type='normal'] {string} Sets color style for different message types. Supported: 'normal' (default), 'success', 'failure1', 'failure2'
 * @param [duration=2.5] {number} Duration in seconds for displaying the message.
 * @example
 * userNotification.show('Hello user!');
 *
 * @example
 * userNotification.show('Oops, something broke!', 'failure1');
 *
 * @example
 * userNotification.show('Show this message for a long time', null, 10);
 * userNotification.hide(); // hide at any time.
 */
app.directive('notificationBar', function (userNotification) {
    return {
        restrict: 'E',
        template: '{{text}}',
        link: function (scope, element, attrs) {
            scope.text = '';
            scope.showText = false;

            var colors = {
                normal: 'color: #000; background-color: #dff0d8;',
                success: 'color: #ddd; background-color: #28a428;',
                failure1: 'color: #000; background-color: #f2dede;',
                failure2: 'color: #000; background-color: #ff8080;'
            };

            element.addClass('notificationBar');

            userNotification.showCallback(function (text, type, duration) {
                if (text == undefined) {
                    esconsole('cannot print empty text in userNotification', ['error', 'debug']);
                    return null;
                }

                if (!colors.hasOwnProperty(type)) {
                    type = 'normal';
                }

                if (!duration) {
                    duration = 2.5;
                }

                scope.text = text;
                scope.showText = true;
                attrs.$set('style', colors[type]);

                if (!scope.$$phase) {
                    scope.$apply();
                }

                setTimeout(userNotification.hide, duration * 1000);
            });

            userNotification.hideCallback(function () {
                scope.showText = false;

                if (!scope.$$phase) {
                    scope.$apply();
                }
            });
        }
    }
});

//var app = angular.module('EarSketchApp',['ui.router']);
/*
app.config(['$stateProvider', function ($stateProvider,$urlRouterProvider) {
        var development = {
                name: 'development',
                url: '/development/',
                templateUrl: 'templates/development.html',
                controller: 'ideController'
            },
            workstation = {
                name: 'workstation',
                url: '/workstation/',
                templateUrl: 'templates/workstation.html',
                controller: 'dawController'
            };
        $stateProvider.state(development);
        $stateProvider.state(workstation);
 }]);

app.run(['$state', function ($state) {
   $state.transitionTo('development');
}]);*/
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-accountController.html">accountController</a></li><li><a href="module-Analyze.html">Analyze</a></li><li><a href="module-apibrowserController.html">apibrowserController</a></li><li><a href="module-audioContext.html">audioContext</a></li><li><a href="module-audioeffects.html">audioeffects</a></li><li><a href="module-audioLibrary.html">audioLibrary</a></li><li><a href="module-autograderController.html">autograderController</a></li><li><a href="module-buildAudioNodeGraph.html">buildAudioNodeGraph</a></li><li><a href="module-changepasswordController.html">changepasswordController</a></li><li><a href="module-ColorPickerCtrl.html">ColorPickerCtrl</a></li><li><a href="module-compiler.html">compiler</a></li><li><a href="module-dawClip.html">dawClip</a></li><li><a href="module-dawClipName.html">dawClipName</a></li><li><a href="module-dawContainerController.html">dawContainerController</a></li><li><a href="module-dawController.html">dawController</a></li><li><a href="module-dawEffect.html">dawEffect</a></li><li><a href="module-dawTimeline.html">dawTimeline</a></li><li><a href="module-dawTrackController.html">dawTrackController</a></li><li><a href="module-DownloadFileCtrl.html">DownloadFileCtrl</a></li><li><a href="module-EarSketchApp.html">EarSketchApp</a></li><li><a href="module-forgotpasswordController.html">forgotpasswordController</a></li><li><a href="module-ideController.html">ideController</a></li><li><a href="module-JavascriptAPI.html">JavascriptAPI</a></li><li><a href="module-mainController.html">mainController</a></li><li><a href="module-NativeJavascriptAPI.html">NativeJavascriptAPI</a></li><li><a href="module-Passthrough.html">Passthrough</a></li><li><a href="module-pitchshifter.html">pitchshifter</a></li><li><a href="module-player.html">player</a></li><li><a href="module-PythonAPI.html">PythonAPI</a></li><li><a href="module-renameController.html">renameController</a></li><li><a href="module-renderer.html">renderer</a></li><li><a href="module-ReportErrorCtrl.html">ReportErrorCtrl</a></li><li><a href="module-SaveScriptCtrl.html">SaveScriptCtrl</a></li><li><a href="module-uploader.html">uploader</a></li><li><a href="module-userConsole.html">userConsole</a></li><li><a href="module-userNotification.html">userNotification</a></li><li><a href="module-WaveforrmCache.html">WaveforrmCache</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addESTagToLog">addESTagToLog</a></li><li><a href="global.html#addESTagToNotLog">addESTagToNotLog</a></li><li><a href="global.html#addESTagToNotPrint">addESTagToNotPrint</a></li><li><a href="global.html#addESTagToPrint">addESTagToPrint</a></li><li><a href="global.html#esconsole">esconsole</a></li><li><a href="global.html#ESLog">ESLog</a></li><li><a href="global.html#formatResultForTests">formatResultForTests</a></li><li><a href="global.html#formatScriptForTests">formatScriptForTests</a></li><li><a href="global.html#getURLParameters">getURLParameters</a></li><li><a href="global.html#ServiceWrapper">ServiceWrapper</a></li><li><a href="global.html#setESConsoleTraceLevel">setESConsoleTraceLevel</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Thu Feb 11 2016 16:06:08 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
