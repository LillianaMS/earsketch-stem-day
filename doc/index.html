<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>EarSketch</h1><p>General guide for EarSketch developers.</p>
<h2>Overview / Code Structure</h2><p>To be written.</p>
<p><hr>
<!--- Dev Conventions (to be improved by everyone!) ---></p>
<h2>Coding Conventions</h2><h3>Printing debug messages to the browser console</h3><p>Use esconsole(message, [tags], ...) for controlled printing and logging. You can use custom tags with lower case or upper case, and multiple tags. </p>
<p>By default, everything printed through esconsole() is added to the error reporting log (up to the newest 100 messages). Some tags such as 'TEMP', 'EXCLUDE', 'NOLOG' are set to be excluded from the logging. They can still be logged with include={tags} URL parameter or using esconsole(msg, tags, <null>, logLevel=2).</p>
<h3>List of commonly used tags</h3><ul>
<li>The default tag with esconsole(message, <empty>): 'DEV'</li>
<li>Always printed &amp; logged whatsover: 'WARNING', 'ERROR', 'FATAL'</li>
<li><p>Also always logged for error report: 'INFO', 'USER'</p>
</li>
<li><p>Excluded from logging by default: 'TEMP', 'EXCLUDE', 'NOLOG', 'META</p>
</li>
<li><p>Excluded from printing by default: none</p>
</li>
<li><p>General debugging: 'DEV' (default), 'DEBUG' (check values, etc.), 'INFO' (for logging), 'TRACE' (for checking execution orders, etc.)</p>
</li>
<li>Verbose Messages: 'LONG'</li>
<li>App Lifecycle: 'INIT', 'COMPILE', ...</li>
<li>User-input-related: 'USER', 'UI', ...</li>
<li>Controllers: 'CTRL', 'DAW', 'IDE', ...</li>
<li>Models, Services: 'MODEL', 'SERVICE', 'WS' (for web services), 'PT' (for pass through), ...</li>
<li>Miscellaneous: 'MISC', 'META'</li>
</ul>
<p><hr>
<!--- Misc Tools ---></p>
<h2>Grunt (task automator)</h2><p>Grunt is used to make running tasks such as JSDoc generation, LESS compilation, and unit testing easier.
http://gruntjs.com/getting-started</p>
<h3>Usage</h3><p>Install Node (NPM) if you have not done already.</p>
<p>Install Grunt-cli, preferably to your global environment:</p>
<pre class="prettyprint source"><code>$ sudo npm install -g grunt-cli</code></pre><p>Install NPM dependencies. If any of the tasks does not work, you should try installing (or updating) packages first.</p>
<pre class="prettyprint source"><code>$ cd (webclient directory)
$ npm install</code></pre><p>To run all the default grunt tasks:</p>
<pre class="prettyprint source"><code>$ cd (webclient directory)
$ grunt</code></pre><p>To run a specific task, such as jsdoc building:</p>
<pre class="prettyprint source"><code>$ cd (webclient directory)
$ grunt jsdoc</code></pre><p><hr></p>
<h2>Bower</h2><p>Bower is a client-side dependency-management tool. Bower components are installed for angular, bootstrap, jquery, and less. These are installed under webclient/scripts/vendor/bower_components. Currently, additional plugins for those libraries are installed in their respective folders in the parent director (ie angular-mocks, angular-ui-router, etc).</p>
<p>To be written more.</p>
<p><hr>
<!--- Documentation ---></p>
<h2>WebClient (JS) documentation</h2><p>We use JSDoc to generate the developer documentation from the code.</p>
<h3>Preparation</h3><p>Install NPM (https://www.npmjs.com/) if you have not already.</p>
<p>(Optional) install JSDoc globally on your system:</p>
<pre class="prettyprint source"><code>$ sudo npm install jsdoc -g </code></pre><p>Install dependencies:</p>
<pre class="prettyprint source"><code>$ cd &lt;webclient directory>
$ npm install</code></pre><h3>Generating documentation</h3><h4>Using Grunt:</h4><pre class="prettyprint source"><code>$ cd &lt;webclient directory>
$ grunt doc</code></pre><h4>Not using Grunt:</h4><pre class="prettyprint source"><code>$ cd &lt;webclient directory>
$ ./node_modules/.bin/jsdoc -c conf.json</code></pre><p>If you installed jsdoc globally:</p>
<pre class="prettyprint source"><code>$ jsdoc -c conf.json</code></pre><p>The HTML documentation will be generated under ./webclient/doc</p>
<h3>Writing documentation</h3><p>JSDoc documentation (http://usejsdoc.org/)</p>
<h3>Configuration</h3><p>webclient/conf.json is used for configuring jsdoc.</p>
<p><hr>
<!--- CSS stuff ---></p>
<h2>Less</h2><p>LESS is a CSS extension with variables, etc. that needs to be compiled into a regular css file. Please be careful that if you work directly on a regular CSS file, it may be overwritten when someone compiles a paired LESS file. </p>
<h3>Setup</h3><p>With NPM, install less:</p>
<pre class="prettyprint source"><code>$ cd &lt;webclient directory>
$ npm install</code></pre><p>(Optional) install Less globally on your system:</p>
<pre class="prettyprint source"><code>$ sudo npm install less -g </code></pre><h3>Compiling</h3><p>Using grunt (Make sure to install / update the npm packages first):</p>
<pre class="prettyprint source"><code>$ cd &lt;webclient folder>
$ grunt less</code></pre><h3>Manually compiling using the compile_less.sh script.</h3><p>All scripts cam be compiled by running ./compile_less.sh in the /css directory</p>
<p>All less variables are stored in css/variables.less</p>
<p>All less files are included in /css/allstyles.less + /css/allstyles.css</p>
<h3>Manually compiling individual scripts: using the lessc command in the css folder, i.e.,</h3><pre class="prettyprint source"><code>$ ./node_modules/less/bin/lessc styles.less styles.css</code></pre><p>If you installed Less globally:</p>
<pre class="prettyprint source"><code>$ lessc /css/styles.less /css/styles.css</code></pre><p><hr>
<!--- Authoring ---></p>
<h2>Authoring</h2><p>There are many additional IDE plugins for syntax highlighting and automatic compilation. I suggest at least using syntax highlighting for Sublime Text. This can be installed with the package manager.</p>
<p><hr>
<!--- Python ---></p>
<h2>Skulpt</h2><p><hr>
<!--- ---></p>
<h2>Integration Testing</h2><p>Integration tests can be found in <code>webclient/tests/integration</code></p>
<p><strong>For information on how to run or add tests, please check the README in the above directory.</strong></p>
<p>Currently there are integration tests for</p>
<ol>
<li>The compiler</li>
<li>Specific user errors</li>
</ol>
<p>The purpose of <a href="https://en.wikipedia.org/wiki/Integration_testing">integration tests</a>
is for testing groups of modules together. In our case we want to test the compiler
and a number of scripts that we want to guarantee will produce the correct output
from our curriculum, Coursera course, etc.</p>
<p>Typically integration tests are only run if all unit tests are passing. For our
purposes, the integration tests make real requests to the server whereas in a
typical unit test server requests are mocked.</p>
<p>For integration testing Angular we use <a href="http://karma-runner.github.io">Karma</a> with
<a href="https://github.com/karma-runner/karma-jasmine">Jasmine</a> and 
<a href="https://github.com/yearofmoo/ngMidwayTester">this ngMidwayTester</a> library to help
mock parts of Angular we don't care about.</p>
<h2>Unit Testing</h2><p>Unit tests can be found in <code>webclient/tests/unit</code></p>
<p><strong>For information on how to run or add tests, please check the README in the above directory.</strong></p>
<p><a href="https://en.wikipedia.org/wiki/Unit_testing">Unit tests</a> are meant to test the
integrity of small &quot;units&quot; of code. In order to do this, dependencies are
typically mocked so only the code, or unit, that is being tested gets run.</p>
<p>For unit testing we use <a href="http://karma-runner.github.io">Karma</a> with
<a href="https://github.com/karma-runner/karma-jasmine">Jasmine</a>.</p>
<p><hr>
<!--- ---></p>
<h2>Third-Party Libraries</h2><p>In general, we need to strike a balance between using third-party libraries to incorporate
robust functionality with minimal effort and becoming overly dependent on poorly-maintained
or otherwise constrained third-party libraries.</p>
<p>Before adding a library to the project, you must get approval from Jason. Also, we cannot
use any GPL/LPGL libraries.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-accountController.html">accountController</a></li><li><a href="module-Analyze.html">Analyze</a></li><li><a href="module-apibrowserController.html">apibrowserController</a></li><li><a href="module-audioContext.html">audioContext</a></li><li><a href="module-audioeffects.html">audioeffects</a></li><li><a href="module-audioLibrary.html">audioLibrary</a></li><li><a href="module-autograderController.html">autograderController</a></li><li><a href="module-buildAudioNodeGraph.html">buildAudioNodeGraph</a></li><li><a href="module-changepasswordController.html">changepasswordController</a></li><li><a href="module-ColorPickerCtrl.html">ColorPickerCtrl</a></li><li><a href="module-compiler.html">compiler</a></li><li><a href="module-dawClip.html">dawClip</a></li><li><a href="module-dawClipName.html">dawClipName</a></li><li><a href="module-dawContainerController.html">dawContainerController</a></li><li><a href="module-dawController.html">dawController</a></li><li><a href="module-dawEffect.html">dawEffect</a></li><li><a href="module-dawTimeline.html">dawTimeline</a></li><li><a href="module-dawTrackController.html">dawTrackController</a></li><li><a href="module-DownloadFileCtrl.html">DownloadFileCtrl</a></li><li><a href="module-EarSketchApp.html">EarSketchApp</a></li><li><a href="module-forgotpasswordController.html">forgotpasswordController</a></li><li><a href="module-ideController.html">ideController</a></li><li><a href="module-JavascriptAPI.html">JavascriptAPI</a></li><li><a href="module-mainController.html">mainController</a></li><li><a href="module-NativeJavascriptAPI.html">NativeJavascriptAPI</a></li><li><a href="module-Passthrough.html">Passthrough</a></li><li><a href="module-pitchshifter.html">pitchshifter</a></li><li><a href="module-player.html">player</a></li><li><a href="module-PythonAPI.html">PythonAPI</a></li><li><a href="module-renameController.html">renameController</a></li><li><a href="module-renderer.html">renderer</a></li><li><a href="module-ReportErrorCtrl.html">ReportErrorCtrl</a></li><li><a href="module-SaveScriptCtrl.html">SaveScriptCtrl</a></li><li><a href="module-uploader.html">uploader</a></li><li><a href="module-userConsole.html">userConsole</a></li><li><a href="module-userNotification.html">userNotification</a></li><li><a href="module-WaveforrmCache.html">WaveforrmCache</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addESTagToLog">addESTagToLog</a></li><li><a href="global.html#addESTagToNotLog">addESTagToNotLog</a></li><li><a href="global.html#addESTagToNotPrint">addESTagToNotPrint</a></li><li><a href="global.html#addESTagToPrint">addESTagToPrint</a></li><li><a href="global.html#esconsole">esconsole</a></li><li><a href="global.html#ESLog">ESLog</a></li><li><a href="global.html#formatResultForTests">formatResultForTests</a></li><li><a href="global.html#formatScriptForTests">formatScriptForTests</a></li><li><a href="global.html#getURLParameters">getURLParameters</a></li><li><a href="global.html#ServiceWrapper">ServiceWrapper</a></li><li><a href="global.html#setESConsoleTraceLevel">setESConsoleTraceLevel</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Thu Feb 11 2016 16:06:08 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>