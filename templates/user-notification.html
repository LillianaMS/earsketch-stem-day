<!-- list -->
<!-- TODO: migrate to stylesheet -->
<div style="padding:10px; min-width: 15em;">
    <div ng-if="notificationList.length === 0">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div style="text-align: center; margin-left: auto; margin-right: auto;">There is no notification.</div>
        </div>
    </div>
    <div ng-if="notificationList.length > 0">
        <div style="display: flex; justify-content: space-between;">
            <div style="float: left; color: grey;">
                <i class="icon icon-bell"></i>
                Notifications
            </div>

            <div style="float: right">
                <a href="#" ng-click="toggleNotificationHistory(true)" style="cursor:pointer;">VIEW ALL</a>
            </div>
        </div>
        <hr style="border: solid 1px dimgrey; margin-top: 10px;">
        <div ng-repeat="item in notificationList track by $index" ng-if="$index < 5">
            <div style="margin: 10px;" ng-click="readMessage($index, item)">
                <!-- pin or read/unread marker -->
                <div style="display:flex; align-items:center; float:left; margin: 10px; margin-left: 0;">
                    <div ng-if="item.pinned">
                        <i class="icon icon-pushpin"></i>
                    </div>
                    <div ng-if="!item.pinned">
                        <div class="marker" ng-show="item.unread"></div>
                        <div class="empty-marker" ng-hide="item.unread"></div>
                    </div>
                </div>

                <!-- contents -->
                <div style="display:table; width:210px;">
                    <!-- common field (text & date) -->
                    <div style="max-width:210px; overflow:hidden; text-overflow:ellipsis;">
                        {{item.message.text}}
                    </div>
                    <div style="font-size:10px; color:grey; float:left;">
                        {{currentTime - item.time | formatTimer}}
                    </div>

                    <!-- special actions -->
                    <div style="float:right;">
                        <div ng-if="item.notification_type === 'broadcast' && !!item.message.hyperlink">
                            <a ng-href="{{item.message.hyperlink}}" target="_blank" style="cursor:pointer;">MORE</a>
                        </div>
                        <div ng-if="item.notification_type === 'share_script'">
                            <span ng-click="openSharedScript(item.shareid)"><a href="#" style="cursor:pointer;">OPEN</a></span>
                        </div>
                        <div ng-if="item.notification_type === 'collaborate_script'">
                            <span ng-if="item.message.action === 'userAddedToCollaboration'" ng-click="openCollaborativeScript(item.shareid)"><a href="#" style="cursor:pointer;">OPEN</a></span>
                            <span ng-if="item.message.action === 'scriptRenamed'" ng-click="openCollaborativeScript(item.shareid)"><a href="#" style="cursor:pointer;">OPEN</a></span>
                        </div>
                        <div ng-if="item.notification_type === 'editProfile'">
                            <span ng-click="editProfile()"><a href="#" style="cursor:pointer;">OPEN</a></span>
                        </div>
                    </div>
                </div>
            </div>
            <hr style="margin:10px; border: solid 1px dimgrey;" ng-show="$index < notificationList.length-1">
        </div>
        <div ng-click="toggleNotificationHistory(true)" ng-if="notificationList.length > 5" style="text-align:center; font-size:20px; margin-top:-10px;">
            .....
        </div>
    </div>
</div>
<!-- single -->

